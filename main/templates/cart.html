<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Ä–∑–∏–Ω–∞ - Aurana Chocolate</title>
    {% load static tailwind_tags %}
    {% tailwind_css %}
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        .neo-card {
            background: rgba(250, 250, 250, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(220, 220, 220, 0.3);
            box-shadow: 
                0 8px 32px 0 rgba(20, 20, 20, 0.1),
                inset 0 1px 0 0 rgba(255, 255, 255, 0.6);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .puffy-btn {
            background: linear-gradient(145deg, #8B5A3C, #6F4C34);
            box-shadow: 0 4px 15px rgba(139, 90, 60, 0.4);
            transition: all 0.3s ease;
        }
        .puffy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 90, 60, 0.6);
        }
        .hover-lift {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .hover-lift:hover {
            transform: translateY(-4px);
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        .text-clamp {
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-clamp: 2;
            box-orient: vertical;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 via-amber-100 to-amber-50 font-['Inter'] min-h-screen">
    <!-- –®–∞–ø–∫–∞ -->
    <header class="bg-white/80 backdrop-blur-md border-b border-white/20 sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-800 rounded-2xl flex items-center justify-center shadow-lg hover-lift">
                    <span class="text-white text-lg">üç´</span>
                </div>
                <h1 class="text-xl font-bold text-amber-900 font-['Playfair_Display']">Aurana</h1>
            </div>
            
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="/" class="text-amber-700 hover:text-amber-600 transition-all duration-300 font-medium hover-lift">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/catalog/" class="text-amber-700 hover:text-amber-600 transition-all duration-300 font-medium hover-lift">–ö–∞—Ç–∞–ª–æ–≥</a>
                <a href="/cart/" class="text-amber-700 font-semibold transition-all duration-300 font-medium relative border-b-2 border-amber-600">
                    –ö–æ—Ä–∑–∏–Ω–∞
                    {% if cart_total > 0 %}
                    <span class="absolute -top-3 -right-3 bg-gradient-to-r from-amber-600 to-amber-800 text-white rounded-full w-6 h-6 text-xs flex items-center justify-center shadow-lg animate-pulse">
                        {{ cart_total }}
                    </span>
                    {% endif %}
                </a>
                {% if client %}
                <div class="flex items-center space-x-4">
                    <a href="/profile/" class="puffy-btn text-white font-bold py-2 px-6 rounded-2xl text-sm hover-lift">
                        üëã {{ client.name }}
                    </a>
                    <a href="/logout/" class="text-amber-600 hover:text-amber-800 text-sm font-medium hover-lift">
                        –í—ã–π—Ç–∏
                    </a>
                </div>
                {% else %}
                <a href="/login/" class="puffy-btn text-white font-bold py-2 px-6 rounded-2xl text-sm hover-lift">
                    –í–æ–π—Ç–∏ –≤ –õ–ö
                </a>
                {% endif %}
            </nav>

            <div class="md:hidden flex items-center space-x-4">
                <a href="/cart/" class="relative p-2 hover-lift">
                    <div class="w-8 h-8 bg-gradient-to-br from-amber-600 to-amber-800 rounded-xl flex items-center justify-center shadow-lg">
                        <span class="text-white text-sm">üõí</span>
                    </div>
                    {% if cart_total > 0 %}
                    <span class="absolute -top-1 -right-1 bg-amber-700 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center shadow-lg animate-bounce">
                        {{ cart_total }}
                    </span>
                    {% endif %}
                </a>
                
                <button id="menu-toggle" class="p-2 hover-lift">
                    <div class="w-8 h-8 bg-gradient-to-br from-amber-600 to-amber-800 rounded-xl flex items-center justify-center shadow-lg">
                        <span class="text-white text-lg">‚ò∞</span>
                    </div>
                </button>
            </div>
        </div>

        <div id="mobile-menu" class="md:hidden bg-white/95 backdrop-blur-md hidden absolute top-full left-0 right-0 shadow-2xl border-b border-amber-200">
            <div class="container mx-auto px-4 py-4 space-y-4">
                <a href="/" class="block py-3 text-amber-900 hover:text-amber-600 border-b border-amber-100 font-medium transition-all duration-300 hover-lift">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/catalog/" class="block py-3 text-amber-900 hover:text-amber-600 border-b border-amber-100 font-medium transition-all duration-300 hover-lift">–ö–∞—Ç–∞–ª–æ–≥</a>
                {% if client %}
                <a href="/profile/" class="block py-3 text-amber-900 hover:text-amber-600 border-b border-amber-100 font-medium transition-all duration-300 hover-lift">üëã {{ client.name }}</a>
                <a href="/logout/" class="block py-3 text-amber-900 hover:text-amber-600 font-medium transition-all duration-300 hover-lift">–í—ã–π—Ç–∏</a>
                {% else %}
                <a href="/login/" class="block py-3 text-amber-900 hover:text-amber-600 font-medium transition-all duration-300 hover-lift">–í–æ–π—Ç–∏ –≤ –õ–ö</a>
                {% endif %}
            </div>
        </div>
    </header>

    <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
    <section class="container mx-auto px-4 py-8">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-amber-900 mb-4 font-['Playfair_Display']">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <p class="text-amber-700 text-lg">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –≤—ã–±–æ—Ä –ø–µ—Ä–µ–¥ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º</p>
        </div>
        
        {% if cart %}
        <div class="max-w-6xl mx-auto">
            <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
            <div class="neo-card rounded-3xl p-8 mb-8">
                <h3 class="text-2xl font-bold text-amber-900 mb-6 font-['Playfair_Display']">–¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ</h3>
                <div class="space-y-4">
                    {% for product_id, item in cart.items %}
                    <div class="glass-card rounded-2xl p-4 hover-lift group">
                        <div class="flex items-start justify-between h-20">
                            <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ -->
                            <div class="flex items-start space-x-4 flex-1">
                                <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞ —Ç–æ–≤–∞—Ä–∞ -->
                                <div class="w-16 h-16 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 flex-shrink-0 overflow-hidden bg-gradient-to-br from-amber-400 to-amber-600">
                                    <span class="text-2xl text-white">üç´</span>
                                </div>
                                
                                <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                                <div class="flex-1 min-w-0 py-1">
                                    <h3 class="font-bold text-amber-900 text-sm mb-1 text-clamp leading-tight">
                                        {{ item.name }}
                                    </h3>
                                    <p class="text-amber-600 text-xs">{{ item.price }} ‚ÇΩ √ó {{ item.quantity }}</p>
                                </div>
                            </div>
                            
                            <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - —Ü–µ–Ω–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ -->
                            <div class="flex items-center space-x-4 flex-shrink-0 ml-4">
                                <span class="text-base font-bold text-amber-900 bg-amber-50/80 px-3 py-1 rounded-lg whitespace-nowrap">
                                    {{ item.price|floatformat:0 }} ‚ÇΩ
                                </span>
                                <a href="{% url 'remove_from_cart' product_id %}" 
                                   class="w-8 h-8 bg-amber-100 hover:bg-amber-200 text-amber-700 rounded-lg flex items-center justify-center text-base font-bold transition-all duration-300 hover-lift">
                                    √ó
                                </a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- –ò—Ç–æ–≥–æ –∏ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- –ò—Ç–æ–≥–æ -->
                <div class="neo-card rounded-3xl p-8">
                    <h3 class="text-2xl font-bold text-amber-900 mb-6 font-['Playfair_Display']">–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center py-3 border-b border-amber-100">
                            <span class="text-amber-700">–¢–æ–≤–∞—Ä—ã</span>
                            <span class="text-amber-900 font-bold">{{ total|floatformat:2 }} ‚ÇΩ</span>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-amber-100">
                            <span class="text-amber-700">–î–æ—Å—Ç–∞–≤–∫–∞</span>
                            <span class="text-green-600 font-bold">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
                        </div>
                        <div class="flex justify-between items-center py-4">
                            <span class="text-xl font-bold text-amber-900">–ò—Ç–æ–≥–æ</span>
                            <span class="text-2xl font-bold text-amber-600">{{ total|floatformat:2 }} ‚ÇΩ</span>
                        </div>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="neo-card rounded-3xl p-8">
                    <h3 class="text-2xl font-bold text-amber-900 mb-6 font-['Playfair_Display']">–î–µ–π—Å—Ç–≤–∏—è</h3>
                    <div class="space-y-4">
                        <a href="/checkout/" class="w-full puffy-btn text-white font-bold py-4 rounded-2xl text-lg text-center block hover-lift">
                            üöÄ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                        </a>
                        <a href="/catalog/" class="w-full bg-white border-2 border-amber-500 text-amber-600 hover:bg-amber-50 font-bold py-4 rounded-2xl text-lg text-center block transition-all duration-300 hover-lift">
                            ‚Üê –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏
                        </a>
                    </div>
                    
                    <!-- –ë–æ–Ω—É—Å—ã -->
                    <div class="mt-6 p-4 bg-gradient-to-r from-amber-100 to-amber-200 rounded-2xl">
                        <p class="text-amber-700 text-sm text-center">
                            üíé –ó–∞ —ç—Ç–æ—Ç –∑–∞–∫–∞–∑ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ <strong class="text-amber-900">{{ bonus_points }} –±–æ–Ω—É—Å–æ–≤</strong>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <!-- –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ -->
        <div class="max-w-2xl mx-auto text-center">
            <div class="neo-card rounded-3xl p-12 animate-float">
                <div class="text-8xl mb-6">üõí</div>
                <h3 class="text-3xl font-bold text-amber-900 mb-4 font-['Playfair_Display']">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                <p class="text-amber-700 text-lg mb-8">–î–æ–±–∞–≤—å—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤–∫—É—Å–Ω–µ–Ω—å–∫–æ–µ –∏–∑ –Ω–∞—à–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞!</p>
                <a href="/catalog/" class="puffy-btn text-white font-bold py-4 px-12 rounded-2xl text-lg inline-block hover-lift">
                    üç´ –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥
                </a>
            </div>
        </div>
        {% endif %}
    </section>

    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div class="fixed bottom-0 left-0 w-40 h-40 bg-amber-400/10 rounded-full blur-3xl -z-10"></div>
    <div class="fixed top-1/2 right-0 w-60 h-60 bg-amber-600/5 rounded-full blur-3xl -z-10"></div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        
        menuToggle.addEventListener('click', function() {
            mobileMenu.classList.toggle('hidden');
        });
        
        document.addEventListener('click', function(event) {
            if (!event.target.closest('#mobile-menu') && !event.target.closest('#menu-toggle')) {
                mobileMenu.classList.add('hidden');
            }
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        const items = document.querySelectorAll('.glass-card');
        items.forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateX(-20px)';
            item.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            
            setTimeout(() => {
                item.style.opacity = '1';
                item.style.transform = 'translateX(0)';
            }, index * 100);
        });
    });
    </script>
</body>
</html>